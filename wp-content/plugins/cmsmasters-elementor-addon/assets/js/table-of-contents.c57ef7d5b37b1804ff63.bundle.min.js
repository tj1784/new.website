/*! cmsmasters-elementor-addon - v1.18.4 - 21-09-2025 */
"use strict";(self.webpackChunkcmsmasters_elementor_addon=self.webpackChunkcmsmasters_elementor_addon||[]).push([[5838],{2277:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class _default extends elementorModules.frontend.handlers.Base{__construct(){super.__construct(...arguments),this.bindElements=[],this.deviceNames=["mobile","tablet","desktop"],this.devicePrefixMaps={mobile:"mobile",tablet:"tablet",desktop:""}}bindElementChange(e,t){this.bindElements.push([e,t])}onElementChange(e){this.bindElements&&this.bindElements.length&&this.bindElements.forEach((t=>{let[s]=t;Array.isArray(s)||(s=s.split(/\s/));const[,i]=t;s.some((t=>{if(-1!==[t,`${t}_tablet`,`${t}_mobile`].indexOf(e))return i(...arguments),!0}))}))}onDestroy(){this.trigger("destroy:before"),super.onDestroy()}getCurrentDeviceSettingInherit(e){const t=["desktop","tablet","mobile"],s=elementorFrontend.getCurrentDeviceMode(),i=this.getElementSettings();let n=t.indexOf(s);for(;n>0;){const s=i[e+"_"+t[n]];if(s&&"object"==typeof s&&Object.prototype.hasOwnProperty.call(s,"size")&&s.size)return s;n--}return i[e]}getCurrentDeviceSettingSize(e){let t=this.getCurrentDeviceSettingInherit(e);return"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"size")&&(t=t.size),t}}t.default=_default},9683:(e,t,s)=>{var i=s(3203);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(s(2277)),l=i(s(2533));class TableOfContents extends n.default{__construct(e){super.__construct(e),this.keydownHelper=new l.default}getDefaultSettings(){const e="elementor-widget-cmsmasters-table-of-contents";return{classes:{anchor:"elementor-menu-anchor",listWrapper:`${e}__list`,listItem:`${e}__list-item`,listTextWrapper:`${e}__list-item-inner`,firstLevelListItem:`${e}__top-level`,listItemText:`${e}__list-item-inner-text`,activeItem:"item-active",headingAnchor:`${e}__heading-anchor`,collapsed:`${e}__list-items-collapsible`},selectors:{headerTitle:`.${e}__header-title`,body:`.${e}__body`,postContentContainer:'.elementor:not([data-elementor-type="header"]):not([data-elementor-type="footer"]):not([data-elementor-type="popup"])',expandButton:".cmsmasters-toggle-button-expand",collapseButton:".cmsmasters-toggle-button-collapse"},listWrapperTag:"numbers"===this.getElementSettings().marker_view?"ol":"ul"}}getDefaultElements(){const{selectors:e}=this.getSettings();return{$widget:this,$pageContainer:this.getContainer(),$expandButton:this.findElement(e.expandButton),$collapseButton:this.findElement(e.collapseButton),$tocBody:this.findElement(e.body),$listItems:this.findElement(e.listItem)}}getContainer(){const{selectors:e}=this.getSettings(),t=this.getElementSettings();if(t.container)return jQuery(t.container);const s=this.$element.parents(".elementor");return"popup"===s.attr("data-elementor-type")?s:jQuery(e.postContentContainer)}bindEvents(){const e=this.getElementSettings();e.minimize_box&&(this.keydownHelper.bindAccessibleClick(this.elements.$expandButton,(e=>this.expandBox(e)),{stopPropagation:!0}),this.keydownHelper.bindAccessibleClick(this.elements.$collapseButton,(e=>this.collapseBox(e)),{stopPropagation:!0})),jQuery(window).on("resize",(()=>{setTimeout((()=>{this.collapseBodyListener()}),250)})),e.collapse_subitems&&this.elements.$listItems.on("hover",(e=>jQuery(e.target).slideToggle()))}getHeadings(){const e=this.getElementSettings(),t=e.headings_by_tags.join(","),s=this.getSettings("selectors"),i=e.exclude_headings_by_selector;return this.elements.$pageContainer.find(t).not(s.headerTitle).filter(((e,t)=>!jQuery(t).closest(i).length))}addAnchorsBeforeHeadings(){const e=this.getSettings("classes");this.elements.$headings.before((t=>{if(!jQuery(this.elements.$headings[t]).data("hasOwnID"))return`<span id="${e.headingAnchor}-${t}" class="${e.anchor} "></span>`}))}activateItem(e){const t=this.getSettings("classes");if(this.deactivateActiveItem(e),e.parent().addClass(t.activeItem),this.$activeItem=e,!this.getElementSettings("collapse_subitems"))return;let s;s=e.hasClass(t.firstLevelListItem)?e.parent().next():e.parents("."+t.listWrapper).eq(-2),s.length?(this.$activeList=s,this.$activeList.stop().slideDown()):delete this.$activeList}deactivateActiveItem(e){if(!this.$activeItem||this.$activeItem.is(e))return;const{classes:t}=this.getSettings();this.$activeItem.parent().removeClass(t.activeItem),!this.$activeList||e&&this.$activeList[0].contains(e[0])||this.$activeList.slideUp()}followAnchor(e,t){const s=e[0].hash;let i;try{i=jQuery(decodeURIComponent(s))}catch(e){return}this.createObserver(s,i,{rootMargin:"0px",threshold:0},e,t).observe(i[0])}createObserver(e,t,s,i,n){let l=0;return new IntersectionObserver((e=>{e.forEach((e=>{const s=document.documentElement.scrollTop,a=s>l,o=t.attr("id");e.isIntersecting&&!this.itemClicked?(this.viewportItems[o]=!0,this.activateItem(i)):e.isIntersecting&&a?(delete this.viewportItems[o],Object.keys(this.viewportItems).length&&this.activateItem(this.$listItemTexts.eq(n+1))):a||(delete this.viewportItems[o],this.activateItem(this.$listItemTexts.eq(n-1))),l=s<=0?0:s}))}),s)}followAnchors(){this.$listItemTexts.each(((e,t)=>this.followAnchor(jQuery(t),e)))}populateTOC(){this.listItemPointer=0,this.getElementSettings("hierarchical_view")?this.createNestedList():this.createFlatList(),this.$listItemTexts=this.$element.find(".elementor-widget-cmsmasters-table-of-contents__list-item-inner-text"),this.$listItemTexts.on("click",this.onListItemClick.bind(this)),elementorFrontend.isEditMode()||this.followAnchors()}createNestedList(){this.headingsData.forEach(((e,t)=>{e.level=0;for(let s=t-1;s>=0;s--){const t=this.headingsData[s];if(t.tag<=e.tag){e.level=t.level,t.tag<e.tag&&e.level++;break}}})),this.elements.$tocBody.html(this.getNestedLevel(0))}createFlatList(){this.elements.$tocBody.html(this.getNestedLevel())}getNestedLevel(e){const t=this.getSettings(),s=this.getElementSettings(),i=this.getElementSettings("icon");let n;i&&(n=elementorFrontend.config.experimentalFeatures.e_font_icon_svg&&!elementorFrontend.isEditMode()?void 0!==i.rendered_tag?i.rendered_tag:"":i.value?`<i class="${i.value}" aria-hidden="true"></i>`:"");let l=`<${t.listWrapperTag} class="${t.classes.listWrapper}">`;for(;this.listItemPointer<this.headingsData.length;){const a=this.headingsData[this.listItemPointer];let o=t.classes.listItemText;if(0===a.level&&(o+=" "+t.classes.firstLevelListItem),e>a.level)break;if(e===a.level){l+=`<li class="${t.classes.listItem}">`,l+=`<div class="${t.classes.listTextWrapper}">`;let r=`<a href="#${a.anchorLink}" class="${o}">${a.text}</a>`;"icon"===s.marker_view&&i&&(r=`${n}${r}`),l+=r,l+="</div>",this.listItemPointer++;const h=this.headingsData[this.listItemPointer];h&&e<h.level&&(l+=this.getNestedLevel(h.level)),l+="</li>"}}return l+=`</${t.listWrapperTag}>`,l}handleNoHeadingsFound(){return this.elements.$tocBody.html("No headings were found on this page.")}collapseBodyListener(){const e=elementorFrontend.breakpoints.getActiveBreakpointsList({withDesktop:!0}),t=this.getElementSettings("minimized_on"),s=elementorFrontend.getCurrentDeviceMode(),i=this.$element.hasClass(this.getSettings("classes.collapsed"));"desktop"===t||e.indexOf(t)>=e.indexOf(s)?i||this.collapseBox(!1):i&&this.expandBox(!1)}onElementChange(e){"minimized_on"===e&&this.collapseBodyListener()}getHeadingAnchorLink(e,t){const s=this.elements.$headings[e].id,i=this.elements.$headings[e].closest(".elementor-widget").id;let n="";return s?n=s:i&&(n=i),s||i?jQuery(this.elements.$headings[e]).data("hasOwnID",!0):n=`${t.headingAnchor}-${e}`,n}setHeadingsData(){this.headingsData=[];const e=this.getSettings("classes");this.elements.$headings.each(((t,s)=>{const i=this.getHeadingAnchorLink(t,e);this.headingsData.push({tag:+s.nodeName.slice(1),text:s.textContent,anchorLink:i})}))}run(){if(this.elements.$headings=this.getHeadings(),!this.elements.$headings.length)return this.handleNoHeadingsFound();this.setHeadingsData(),elementorFrontend.isEditMode()||this.addAnchorsBeforeHeadings(),this.populateTOC(),this.getElementSettings("minimize_box")&&this.collapseBodyListener()}expandBox(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.getCurrentDeviceSetting("box_min_height");this.$element.removeClass(this.getSettings("classes.collapsed")),this.elements.$tocBody.slideDown(),this.elements.$expandButton.attr("aria-expanded","true"),this.elements.$collapseButton.attr("aria-expanded","true"),this.elements.$widget.$element.css("min-height",t.size+t.unit),e&&this.elements.$collapseButton.trigger("focus")}collapseBox(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$element.addClass(this.getSettings("classes.collapsed")),this.elements.$tocBody.slideUp(),this.elements.$expandButton.attr("aria-expanded","false"),this.elements.$collapseButton.attr("aria-expanded","false"),this.elements.$widget.$element.css("min-height","0px"),e&&this.elements.$expandButton.trigger("focus")}triggerClickOnEnterSpace(e){13!==e.keyCode&&32!==e.keyCode||(e.currentTarget.click(),e.stopPropagation())}onInit(){super.onInit(...arguments),this.viewportItems=[],jQuery((()=>this.run()))}onListItemClick(e){this.itemClicked=!0,setTimeout((()=>this.itemClicked=!1),2e3);const t=jQuery(e.target),s=t.parent().next(),i=this.getElementSettings("collapse_subitems");let n;i&&t.hasClass(this.getSettings("classes.firstLevelListItem"))&&s.is(":visible")&&(n=!0),this.activateItem(t),i&&n&&s.slideUp()}}t.default=TableOfContents}}]);