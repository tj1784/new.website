/*! cmsmasters-elementor-addon - v1.18.4 - 21-09-2025 */
"use strict";(self.webpackChunkcmsmasters_elementor_addon=self.webpackChunkcmsmasters_elementor_addon||[]).push([[2537],{2277:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class _default extends elementorModules.frontend.handlers.Base{__construct(){super.__construct(...arguments),this.bindElements=[],this.deviceNames=["mobile","tablet","desktop"],this.devicePrefixMaps={mobile:"mobile",tablet:"tablet",desktop:""}}bindElementChange(e,t){this.bindElements.push([e,t])}onElementChange(e){this.bindElements&&this.bindElements.length&&this.bindElements.forEach((t=>{let[i]=t;Array.isArray(i)||(i=i.split(/\s/));const[,n]=t;i.some((t=>{if(-1!==[t,`${t}_tablet`,`${t}_mobile`].indexOf(e))return n(...arguments),!0}))}))}onDestroy(){this.trigger("destroy:before"),super.onDestroy()}getCurrentDeviceSettingInherit(e){const t=["desktop","tablet","mobile"],i=elementorFrontend.getCurrentDeviceMode(),n=this.getElementSettings();let s=t.indexOf(i);for(;s>0;){const i=n[e+"_"+t[s]];if(i&&"object"==typeof i&&Object.prototype.hasOwnProperty.call(i,"size")&&i.size)return i;s--}return n[e]}getCurrentDeviceSettingSize(e){let t=this.getCurrentDeviceSettingInherit(e);return"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"size")&&(t=t.size),t}}t.default=_default},4168:(e,t,i)=>{var n=i(3203);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(i(2533));class _default extends elementorModules.ViewModule{__construct(e){super.__construct(e),this.keydownHelper=new s.default}getDefaultElements(){const{$videoContainer:e,$remove:t,$coverImage:i}=this.getSettings();return{$videoContainer:e,$remove:t,$coverImage:i,$window:jQuery(window)}}onInit(){super.onInit(),this.initMinimize()}initMinimize(){const e=this.elements.$coverImage,t=this.elements.$videoContainer,i=this.elements.$window,n=e.length;n&&(t.addClass("image_overlay"),this.keydownHelper.bindAccessibleClick(this.elements.$coverImage,(e=>{this.elements.$videoContainer.removeClass("image_overlay").addClass("remove_image_overlay")}))),i.on("scroll",(()=>{const e=t.outerHeight()+t.offset().top;if(i.scrollTop()<=e)t.removeClass("minimize");else{if(!t.hasClass("remove_minimize")){const e=t.hasClass("remove_image_overlay")||t.hasClass("minimize_always");(!n||n&&e)&&t.addClass("minimize")}this.keydownHelper.bindAccessibleClick(this.elements.$remove,(e=>{this.elements.$videoContainer.removeClass("minimize").addClass("remove_minimize")}))}}))}}t.default=_default},7234:(e,t,i)=>{var n=i(3203);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(i(2277)),o=n(i(2533)),a=n(i(4168));class VideoStream extends s.default{__construct(e){super.__construct(e),this.keydownHelper=new o.default}getDefaultElements(){return{$coverImage:this.findElement(".elementor-widget-cmsmasters-video-stream__cover-image"),$videoIframe:this.findElement(".elementor-video-iframe"),$liveChat:this.findElement(".elementor-widget-cmsmasters-video-stream__live-chat"),$videoContainer:this.findElement(".elementor-widget-cmsmasters-video-stream__container"),$remove:this.findElement(".elementor-widget-cmsmasters-video-stream__close-button")}}bindEvents(){this.keydownHelper.bindAccessibleClick(this.elements.$coverImage,(e=>this.handleVideo(e)))}onInit(){super.onInit(),this.initMinimize()}initMinimize(){"yes"===this.getElementSettings("video_minimize")&&new a.default({widget:this,$videoContainer:this.elements.$videoContainer,$remove:this.elements.$remove,$coverImage:this.elements.$coverImage})}handleVideo(){this.getElementSettings("lightbox")||(this.elements.$coverImage.remove(),this.playVideo())}playVideo(){const e=this.elements.$videoIframe,t=e.data("lazy-load");if(t){const i=this.elements.$liveChat,n=i.data("lazy-load");e.attr("src",t),i.attr("src",n)}const i=e.attr("src"),n=i.replace(/&muted*=[a-z\d]*/,"").replace(/&autoplay=[a-z\d]*/,"");let s="&autoplay=1";i.includes("twitch.tv")&&(s="&autoplay=true");e.attr("src",`${n}${s}&mute=true`)}onElementChange(e){const t=elementorFrontend.config.elements.data[this.getModelCID()].options.controls[e];t&&"section_lightbox_style"!==t.section&&this.hideLightbox(),0!==e.indexOf("lightbox_content_animation")?"lightbox"!==e||this.getElementSettings("lightbox")?"aspect_ratio"===e&&this.getElementSettings("lightbox")&&this.handleAspectRatio():this.hideLightbox():this.animateVideo()}async hideLightbox(){(await elementorFrontend.utils.lightbox).getModal().hide()}async getLightbox(){return await elementorFrontend.utils.lightbox}async animateVideo(){(await elementorFrontend.utils.lightbox).setEntranceAnimation(this.getCurrentDeviceSetting("lightbox_animation_entrance"))}async handleAspectRatio(){(await elementorFrontend.utils.lightbox).setVideoAspectRatio(this.getElementSettings("aspect_ratio"))}}t.default=VideoStream}}]);