/*! cmsmasters-elementor-addon - v1.18.4 - 21-09-2025 */
"use strict";(self.webpackChunkcmsmasters_elementor_addon=self.webpackChunkcmsmasters_elementor_addon||[]).push([[511],{2277:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;class _default extends elementorModules.frontend.handlers.Base{__construct(){super.__construct(...arguments),this.bindElements=[],this.deviceNames=["mobile","tablet","desktop"],this.devicePrefixMaps={mobile:"mobile",tablet:"tablet",desktop:""}}bindElementChange(t,e){this.bindElements.push([t,e])}onElementChange(t){this.bindElements&&this.bindElements.length&&this.bindElements.forEach((e=>{let[s]=e;Array.isArray(s)||(s=s.split(/\s/));const[,n]=e;s.some((e=>{if(-1!==[e,`${e}_tablet`,`${e}_mobile`].indexOf(t))return n(...arguments),!0}))}))}onDestroy(){this.trigger("destroy:before"),super.onDestroy()}getCurrentDeviceSettingInherit(t){const e=["desktop","tablet","mobile"],s=elementorFrontend.getCurrentDeviceMode(),n=this.getElementSettings();let r=e.indexOf(s);for(;r>0;){const s=n[t+"_"+e[r]];if(s&&"object"==typeof s&&Object.prototype.hasOwnProperty.call(s,"size")&&s.size)return s;r--}return n[t]}getCurrentDeviceSettingSize(t){let e=this.getCurrentDeviceSettingInherit(t);return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"size")&&(e=e.size),e}}e.default=_default},3762:(t,e,s)=>{var n=s(3203);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(s(2277)),i=n(s(2533));class CartWidget extends r.default{__construct(){this.sectionsArray=["section_advance_settings","section_close_settings","cart_section_style","cart_title_section_style","cart_subtotal_section_style","cart_message_section_style","cart_product_section_style","cart_buttons_section_style","section_style_close"],this.scrollPerfectCart=null,super.__construct(...arguments),this.keydownHelper=new i.default}getDefaultSettings(){const t="elementor-widget-cmsmasters-woo-cart";return{classes:{cartActive:"cmsmasters-active-cart"},selectors:{$cartButton:`.${t}__button-inner`,$cartClose:`.${t}__cart-close`,$cartContainer:`.${t}__cart-container`,$cartInner:`.${t}__cart-inner`}}}getDefaultElements(){const{selectors:t}=this.getSettings();return{$html:jQuery("html"),$cartWidget:this.$element,$cartButton:this.findElement(t.$cartButton),$cartClose:this.findElement(t.$cartClose),$cartContainer:this.findElement(t.$cartContainer),$cartInner:this.findElement(t.$cartInner)}}bindEvents(){this.updatedCart=this.updatedCart.bind(this);const t=this.getElementSettings();"popup"===t.cart_type?"hover"===t.show_cart_on?(this.elements.$cartButton.on("mouseover",this.cartShow.bind(this)),this.elements.$cartContainer.on("mouseover",this.cartShow.bind(this)).on("mouseout",this.cartHide.bind(this))):"click"===t.show_cart_on&&this.keydownHelper.bindAccessibleClick(this.elements.$cartButton,(t=>this.cartClick(t))):"canvas"===t.cart_type&&(this.keydownHelper.bindAccessibleClick(this.elements.$cartButton,(t=>this.cartCanvas(t))),this.keydownHelper.bindAccessibleClick(this.elements.$cartClose,(t=>this.cartHide(t))),t.esc_close&&elementorFrontend.elements.$document.on("keydown",this.closeESC.bind(this)),t.overlay_close&&this.elements.$cartContainer.on("click",(t=>{this.elements.$cartInner.has(t.target).length||this.elements.$cartInner.is(t.target)||this.cartHide()}))),this.isScrollBar()&&elementorFrontend.elements.$body.on("wc_fragments_refreshed added_to_cart removed_from_cart",this.updatedCart)}onInit(){super.onInit(),this.initScroll(),this.onEdit()}updatedCart(){this.initScrollProducts()}initScroll(){this.isScrollBar()&&(this.initScrollCart(),this.initScrollProducts())}initScrollCart(){if(!this.isScrollBar())return;const t=this.elements.$cartInner.get(0);void 0!==t&&new PerfectScrollbar(t,{wheelSpeed:.5,suppressScrollX:!0})}isScrollBar(){const{cartType:t}=this.getElementSettings();return"popup"===t||"canvas"===t}initScrollProducts(){if(!this.isScrollBar())return;const t=this.elements.$cartInner.find(".cmsmasters-menu-cart__products");t.length&&(this.productsScroll&&document.contains(this.productsScroll.element)?this.productsScroll.update():(this.productsScroll&&this.productsScroll.destroy(),this.productsScroll=new PerfectScrollbar(t.get(0),{wheelSpeed:.5,suppressScrollX:!0})))}onEdit(){elementorFrontend.isEditMode()&&("true"===this.elements.$cartWidget.data("opened")&&this.cartClick(),elementor.channels.editor.on("section:activated",this.sectionActivated.bind(this)))}cartClick(){const{classes:t}=this.getSettings();this.elements.$cartContainer.toggleClass(t.cartActive),elementorFrontend.isEditMode()&&this.elements.$cartWidget.data("opened","true")}sectionActivated(t,e){const s=this.getModelCID();if(!s)return;const{classes:n}=this.getSettings(),r=elementorFrontend.config.elements.data[s],i=e.getOption("editedElementView");r.get("widgetType")===i.model.get("widgetType")&&(-1!==this.sectionsArray.indexOf(t)&&this.elements.$cartWidget.hasClass(`elementor-element-${e.options.model.attributes.id}`)?this.elements.$cartContainer.hasClass(n.cartActive)||this.cartShow():this.cartHide())}cartShow(){const{classes:t}=this.getSettings();this.elements.$cartContainer.addClass(t.cartActive),elementorFrontend.isEditMode()&&this.elements.$cartWidget.data("opened","true")}cartHide(){const{classes:t}=this.getSettings(),e=this.getElementSettings();this.elements.$cartContainer.removeClass(t.cartActive),e.disable_scroll&&"canvas"===e.cart_type&&this.elements.$html.css("overflow","inherit"),elementorFrontend.isEditMode()&&this.elements.$cartWidget.data("opened","false")}cartCanvas(t){t.preventDefault();const e=this.getElementSettings();this.cartClick(),e.disable_scroll&&this.elements.$html.css("overflow","hidden")}closeESC(t){27===t.keyCode&&this.cartHide()}onDestroy(){super.onDestroy(),this.isScrollBar()&&elementorFrontend.elements.$body.off("wc_fragments_refreshed added_to_cart removed_from_cart",this.updatedCart)}}e.default=CartWidget}}]);