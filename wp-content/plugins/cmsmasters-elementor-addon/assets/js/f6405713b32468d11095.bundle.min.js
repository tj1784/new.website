/*! cmsmasters-elementor-addon - v1.18.4 - 21-09-2025 */
"use strict";(self.webpackChunkcmsmasters_elementor_addon=self.webpackChunkcmsmasters_elementor_addon||[]).push([[3747],{5898:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class _default extends elementorModules.ViewModule{__construct(e){super.__construct(e),this.$element=e.widget,this.controls=e.controls,this.type=!!e.type&&e.type,"custom"===this.type&&(this.container=e.container?e.container:null,this.translateNames=e.translateNames?e.translateNames:[]),"document"===this.type&&(this.documents=e.documents?e.documents:{}),this.contentGap=44,this.elementorDocument="data-elementor-id",this.handles={}}getDefaultSettings(){const e="elementor-document-handle",t={handle:e,handleWrap:`${e}-wrapper`,handleInner:`${e}-inner`,handleTitle:`${e}__title`,widgetContainer:"elementor-element",widgetTemplate:"cmsmasters-widget-template",parentDocument:"cmsmasters-parent-document",templateStyles:"cmsmasters-template-styles",editMode:"elementor-edit-mode"};return{classes:t,selectors:{handle:`.${t.handle}`,handleWrap:`.${t.handleWrap}`,handleInner:`.${t.handleInner}`,handleTitle:`.${t.handleTitle}`,editMode:`.${t.editMode}`}}}getDefaultElements(){if("document"===this.type)return;const e={$widgetContainer:this.$element};return this.container&&(e.$widgetContainer=this.container),e}onInit(){super.onInit(),this.createTemplateHandles()}createTemplateHandles(){switch(this.type){case"document":this.createControlDocumentHandles();break;case"listing":this.createControlTemplateHandles();break;case"custom":this.createRepeaterTemplateHandles();break;default:this.createWidgetTemplateHandles()}}createControlDocumentHandles(){const{classes:e,selectors:t}=this.getSettings();Object.values(this.documents).forEach((s=>{const i=s.$element;if(i.hasClass(e.editMode))return;if(i.children(t.handle).length)return;const n=jQuery("<div>",{class:e.handle}),a=i.data("elementor-title");n.append(this.getHandleInner(s,a)),i.prepend(n)}))}getHandleInner(e,t){const{classes:s}=this.getSettings(),i=jQuery("<i>",{class:"eicon-edit"}),n="document"!==this.type?cmsmastersElementorFrontend.translate(t):t,a=jQuery("<div>",{class:s.handleTitle}).text(cmsmastersElementorFrontend.translate("edit_element",[n]));return jQuery("<div>",{class:s.handleInner}).append(i,a).on("click",(()=>this.onDocumentHandleClick(e)))}createControlTemplateHandles(){const{classes:e,selectors:t}=this.getSettings(),s=this.elements.$widgetContainer.closest(".elementor").not(t.editMode);if(s.length&&s.data("elementor-id"))return;const i=jQuery("<div>",{class:e.handle});Object.entries(this.controls).forEach((t=>{let[s,n]=t;this.elements.$widgetContainer.addClass(e.handleWrap);const a=this.$element.find(`[${this.elementorDocument}=${n}]`).first();i.append(this.getHandleInner(a,s))})),this.elements.$widgetContainer.prepend(i)}createRepeaterTemplateHandles(){const{classes:e}=this.getSettings();Array.from(this.elements.$widgetContainer).forEach((t=>{const s=jQuery(t),i=jQuery("<div>",{class:e.handle}),n=s.find(`[${this.elementorDocument}]`).first();if(!n.length)return;const a=this.translateNames.indexOf(`saved_${n.data("elementor-type")}`);if(0>a)return;n.addClass(e.handleWrap);const r=this.translateNames[a];i.append(this.getHandleInner(n,r)),n.prepend(i)}))}createWidgetTemplateHandles(){const{classes:e,selectors:t}=this.getSettings(),s=this.elements.$widgetContainer.closest(".elementor").not(t.editMode);s.length&&s.data("elementor-id")||Object.entries(this.controls).forEach((t=>{let[s,i]=t;const n=jQuery("<div>",{class:e.handle});this.elements.$widgetContainer.addClass(e.handleWrap);const a=this.$element.find(`[${this.elementorDocument}=${i}]`).first();n.append(this.getHandleInner(a,s)),a.prepend(n)}))}onDocumentHandleClick(e){const t="document"!==this.type?e.data("elementor-id"):e.getSettings("id"),s=elementorCommon.api.run("editor/documents/switch",{id:t,mode:"autosave"});"document"!==this.type&&s.finally((()=>this.initModal(e)))}async initModal(e){const{classes:t}=this.getSettings(),s=e.data("elementor-id"),i=elementor.$previewContents.find(`[id=${t.templateStyles}-${s}]`),n=elementor.$previewContents.find(`.elementor-${s}`).first();if(this.modal)return void this.modal.setMessage(n).show();let a=e;this.container&&(a=this.$element);const r=a.closest(`.elementor:not(.elementor-${s})`);let l=`${t.widgetTemplate}-modal`,o=!1;r.length&&(o=r.data("elementor-id")),o&&(l+=` ${t.parentDocument}-${o}`),window.DialogsManager||await elementorFrontend.utils.assetsLoader.load("script","dialog"),this.modal=elementorFrontend.getDialogsManager().createWidget("lightbox",{id:`${t.widgetTemplate}-${s}`,className:l,closeButton:!0,closeButtonClass:"eicon-close",preventScroll:!0,hide:{onBackgroundClick:!0,onEscKeyPress:!0},position:{enable:!1}});const{widgetContent:d}=this.modal.getElements();"listing"!==this.type&&d.width(`${e.outerWidth()+this.contentGap}px`),this.modal.setMessage(n).show(),setTimeout((()=>{i.remove()}),1e3),this.modal.on("hide",(()=>{d.css("opacity",.5),setTimeout((()=>{this.modal.setMessage(""),o?elementorCommon.api.run("editor/documents/switch",{id:o,mode:"autosave"}).finally((()=>{this.createTemplateHandles(),elementor.dynamicTags.cleanCache(),setTimeout((()=>{this.modal.destroy(),jQuery(document).find(`[data-id=${this.$element.data("id")}]`).trigger("click")}),1e3)})):this.modal.destroy()}))}))}}t.default=_default},5246:(e,t,s)=>{var i=s(3203);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(s(7674)),a=i(s(2533)),r=i(s(3207)),l=i(s(9945));const o=s(2363);class _default extends r.default{__construct(){super.__construct(...arguments),this.pagination=null,this.ajaxWidget=null,this.secondaryFilterScrollbar=null,this.mutationObserver=null,this.onPostResize=this.onPostResize.bind(this),this.onPostResizeDebounce=o.debounce(this.onPostResizeDebounce.bind(this)),this.onPostResizeOnce=this.onPostResizeOnce.bind(this),this.reLayoutDebounce=o.debounce(this.reLayoutDebounce.bind(this)),this.toggleFilterSecondaryEvent=this.toggleFilterSecondaryEvent.bind(this),this.elementChangeList=["typography_header_title_font_size","typography_header_filter_font_size","separator_filter_space_between","header_filter_padding"],this.keydownHelper=new a.default}getDefaultSettings(){const e=super.getDefaultSettings(...arguments),t=e.classes.base;return e.classes=Object.assign(e.classes,{filter__secondaryVisible:`${t}-filter--nav-secondary-visible`,filter__secondaryHasItem:`${t}-filter--nav-secondary-has-item`,termLink:"term-link",termLinkActive:"term-link-active"}),e.selectors=Object.assign(e.selectors,{header:`.${t}-header`,filter:`.${t}-filter`,filterPrimary:`.${t}-filter-nav-primary`,filterSecondary:`.${t}-filter-nav-secondary`,filterSecondaryTrigger:`.${t}-filter-nav-secondary-trigger`,termLinkActive:`.${e.classes.termLinkActive}`}),e}getDefaultElements(){const e=super.getDefaultElements(...arguments),{selectors:t,classes:s}=this.getSettings();return e.$header=this.findElement(t.header),e.$filter=this.findElement(t.filter),e.$filterPrimary=this.findElement(t.filterPrimary),e.$filterPrimaryTermLinks=this.findElement(`${t.filterPrimary} .${s.termLink}`),e.$filterSecondary=this.findElement(t.filterSecondary),e.$filterSecondaryTrigger=this.findElement(t.filterSecondaryTrigger),e}bindEvents(){const{classes:e}=this.getSettings();this.bindElementChange(this.elementChangeList,this.filterFitItem.bind(this)),this.isFilter()&&(this.isFilterAjax()&&this.keydownHelper.bindAccessibleClick(this.elements.$filter,(e=>this.filterClick(e)),{delegateSelector:`.${e.termLink}`}),this.keydownHelper.bindAccessibleClick(this.elements.$filterSecondaryTrigger,(e=>this.secondaryTriggerClick(e)))),elementorFrontend.elements.$window.on("resize",this.onPostResizeDebounce),elementorFrontend.elements.$window.one("resize",this.onPostResizeOnce),this.on("widget-resize",this.onPostResize),this.on("ajaxInsertHTML:after",(()=>{this.elements.$posts.find(".elementor-element").each(((e,t)=>{elementorFrontend.elementsHandler.runReadyTrigger(t)}))})),this.observerConnect()}initElements(){super.initElements(...arguments),this.initPagination()}onInit(){super.onInit(),this.reLayout(),this.initAjaxWidget(),this.setCacheDefault()}isFilter(){return this.elements.$filter.length}isFilterAjax(){return Boolean(this.getElementSettings("header_filter_via_ajax"))}observerConnect(){this.elements.$variable.length&&(this.observerDisconnect(),this.mutationObserver||(this.mutationObserver=new MutationObserver(this.setCacheDefault.bind(this))),this.mutationObserver.observe(this.elements.$variable.get(0),{childList:!0,subtree:!0}))}observerDisconnect(){this.mutationObserver&&this.mutationObserver.disconnect(this.elements.$variable.get(0))}initPagination(){this.pagination=new l.default(this),this.pagination.on("updatePage",this.onUpdatePage.bind(this)),this.pagination.on("click",this.onPagination.bind(this))}reLayout(){this.filterFitItem()}filterFitItem(){const{$filterPrimaryTermLinks:e}=this.elements;if(!e.length)return;const{$filter:t,$filterSecondary:s}=this.elements,i=e.get(0).getBoundingClientRect(),{classes:n,selectors:a}=this.getSettings(),r=this.getFilterLinks().filter(a.termLinkActive);t.removeClass(n.filter__secondaryVisible),s.empty(),e.each(((e,t)=>{if(t.getBoundingClientRect().top>i.top){const e=jQuery(t).clone(!0);e.wrap("<li />").parent().appendTo(s),r.data("term-id")===e.data("term-id")&&e.addClass(n.termLinkActive)}}));const l=Boolean(s.children().length);l&&this.updateSecondaryFilterScrollbar(),t.toggleClass(n.filter__secondaryHasItem,l)}updateSecondaryFilterScrollbar(){const{$filterSecondary:e}=this.elements,t=e.get(0);if(void 0!==t){if(!this.secondaryFilterScrollbar)return void(this.secondaryFilterScrollbar=new PerfectScrollbar(t,{suppressScrollX:!0}));this.secondaryFilterScrollbar.update()}}initAjaxWidget(){this.ajaxWidget=new n.default({ajaxVarsDefault:this.getDefaultAjaxVars(),cacheAllow:!0,widget:this}),this.ajaxWidget.on("response/success",this.responseSuccess.bind(this)),this.ajaxWidget.on("response/fail",this.responseFail.bind(this))}getDefaultAjaxVars(){const e={query_vars:{paged:this.pagination.getPagedCurrent(),tax_query:[]}};if(this.isFilter()){const t=this.getFilterData();t&&(e.query_vars.tax_query=t)}return e}setCacheDefault(){let e=jQuery("<div />",{html:this.elements.$variable.html()});this.ajaxWidget.setCache(e.html())}toggleFilterSecondaryEvent(e){const{target:t}=e,{classes:s}=this.getSettings();this.elements.$filterSecondary.is(t)||jQuery.contains(this.elements.$filterSecondary.get(0),t)||this.elements.$filterSecondaryTrigger.is(t)||jQuery.contains(this.elements.$filterSecondaryTrigger.get(0),t)||(this.elements.$filter.removeClass(s.filter__secondaryVisible),elementorFrontend.elements.$document.off("click touchstart keydown",this.toggleFilterSecondaryEvent))}secondaryTriggerClick(e){const{classes:t}=this.getSettings();this.elements.$filter.toggleClass(t.filter__secondaryVisible);return this.elements.$filter.hasClass(t.filter__secondaryVisible)?this.keydownHelper.bindAccessibleClick(elementorFrontend.elements.$document,this.toggleFilterSecondaryEvent):elementorFrontend.elements.$document.off("click touchstart keydown",this.toggleFilterSecondaryEvent),!1}filterClick(e){if(!this.ajaxWidget.isRequestFree())return;this.ajaxMethod="filter";let t=jQuery(e.currentTarget);const{classes:s}=this.getSettings();if(t.hasClass(s.termLinkActive))return;this.pagination.setPage(1);const i=this.getFilterData(t);i?this.ajaxWidget.setAjaxVars("query_vars.tax_query",i):this.ajaxWidget.setAjaxVars("query_vars.tax_query",[]),this.ajaxWidget.request().then((()=>{setTimeout((()=>{this.elements.$filter.removeClass(s.filter__secondaryVisible)}),350);const e=this.getFilterLinks();if(t=e.filter(t),e.removeClass(s.termLinkActive),t.addClass(s.termLinkActive),this.isSaveState()){const e=`cmsmasters-filter-${this.getID()}`,s={[e]:!1};if(i){const i=t.data("termId"),n=t.data("taxonomy");i&&n&&(s[e]=`${n}|${i}`)}o.saveParameters(s)}})).catch((()=>{t.parent("li").remove(),this.filterFitItem()}))}isSaveState(){return!elementorFrontend.isEditMode()&&Boolean(this.getElementSettings("header_filter_save_state"))}getFilterLinks(){const{classes:e,selectors:t}=this.getSettings(),s=this.findElement(`${t.filterSecondary} .${e.termLink}`);return jQuery.merge(s,this.elements.$filterPrimaryTermLinks)}onPagination(){this.ajaxWidget.isRequestFree()&&(this.pagination.isLoadMore()||this.pagination.isInfiniteScroll()?this.ajaxMethod="load-more":this.ajaxMethod="pagination",this.ajaxWidget.request())}responseSuccess(){this.trigger("ajaxInsertHTML:before"),this.ajaxInsertHTML(),this.trigger("ajaxInsertHTML:after"),this.pagination.onSuccess()}responseFail(){this.pagination.onFail()}ajaxInsertHTML(){const e=this.ajaxWidget.getResponseData(),{selectors:t}=this.getSettings(),{selectors:s}=this.pagination.getSettings();if("load-more"===this.ajaxMethod){const i=jQuery(e),n=i.find(t.posts).contents();this.elements.$postsWrap.append(n),this.pagination.elements.$root.replaceWith(i.filter(s.root))}else this.elements.$variable.html(e)}reLayoutDebounce(){this.reLayout()}getFilterData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const{classes:t}=this.getSettings();e&&e.length||(e=this.getFilterLinks().filter(((e,s)=>jQuery(s).hasClass(t.termLinkActive))));const s=e.data("termId"),i=e.data("taxonomy");return!(!s||!i)&&[{taxonomy:i,field:"term_id",terms:[s]}]}onPostResize(){this.reLayoutDebounce()}onPostResizeDebounce(){this.onPostResize(),elementorFrontend.elements.$window.one("resize",this.onPostResizeOnce)}onPostResizeOnce(){}onUpdatePage(e){this.ajaxWidget.isRequestFree()&&this.ajaxWidget.setAjaxVars("query_vars.paged",e)}unbindEvents(){elementorFrontend.elements.$window.off("resize",this.onPostResizeDebounce),elementorFrontend.elements.$window.off("resize",this.onPostResizeOnce),this.observerDisconnect()}}t.default=_default},3207:(e,t,s)=>{var i=s(3203);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(s(2277));class _default extends n.default{getDefaultSettings(){const e="cmsmasters-blog",t={base:e,variable:`${e}__posts-variable`,posts:`${e}__posts`,post:`${e}__post`};return{classes:t,selectors:{variable:`.${t.variable}`,base:`.${t.base}`,posts:`.${t.posts}`,post:`.${t.post}`}}}getDefaultElements(){const{selectors:e}=this.getSettings(),t={$base:this.findElement(e.base),$variable:this.findElement(e.variable)};return Object.defineProperty(t,"$postsWrap",{get:()=>this.findElement(e.posts)}),Object.defineProperty(t,"$posts",{get:()=>this.findElement(e.post)}),t}}t.default=_default}}]);