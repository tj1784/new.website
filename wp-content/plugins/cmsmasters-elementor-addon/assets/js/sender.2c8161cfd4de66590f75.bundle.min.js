/*! cmsmasters-elementor-addon - v1.18.4 - 21-09-2025 */
"use strict";(self.webpackChunkcmsmasters_elementor_addon=self.webpackChunkcmsmasters_elementor_addon||[]).push([[8958],{2277:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class _default extends elementorModules.frontend.handlers.Base{__construct(){super.__construct(...arguments),this.bindElements=[],this.deviceNames=["mobile","tablet","desktop"],this.devicePrefixMaps={mobile:"mobile",tablet:"tablet",desktop:""}}bindElementChange(e,t){this.bindElements.push([e,t])}onElementChange(e){this.bindElements&&this.bindElements.length&&this.bindElements.forEach((t=>{let[s]=t;Array.isArray(s)||(s=s.split(/\s/));const[,n]=t;s.some((t=>{if(-1!==[t,`${t}_tablet`,`${t}_mobile`].indexOf(e))return n(...arguments),!0}))}))}onDestroy(){this.trigger("destroy:before"),super.onDestroy()}getCurrentDeviceSettingInherit(e){const t=["desktop","tablet","mobile"],s=elementorFrontend.getCurrentDeviceMode(),n=this.getElementSettings();let i=t.indexOf(s);for(;i>0;){const s=n[e+"_"+t[i]];if(s&&"object"==typeof s&&Object.prototype.hasOwnProperty.call(s,"size")&&s.size)return s;i--}return n[e]}getCurrentDeviceSettingSize(e){let t=this.getCurrentDeviceSettingInherit(e);return"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"size")&&(t=t.size),t}}t.default=_default},9451:(e,t,s)=>{var n=s(3203);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(s(2277)),r=n(s(2533));class Sender extends i.default{__construct(e){super.__construct(e),this.keydownHelper=new r.default}getDefaultSettings(){const e=super.getDefaultSettings(),t="elementor-widget-cmsmasters-sender";return e.classes={input:"input"},e.selectors={fieldGroups:`.${t}__field-groups`,termsUse:`.${t}__check-box`,input:"input",button:"button"},e}getDefaultElements(){const{selectors:e}=this.getSettings();return{$fieldGroups:this.findElement(e.fieldGroups),$input:this.findElement(e.input),$button:this.findElement(e.button),$termsUse:this.findElement(e.termsUse)}}bindEvents(){super.bindEvents(),this.keydownHelper.bindAccessibleClick(this.elements.$button,(e=>this.sendForm(e))),this.elements.$termsUse.on("change",this.checkTermsUse.bind(this))}onInit(){super.onInit()}sendForm(e){const t=this.getElementSettings(),{classes:s}=this.getSettings();e.preventDefault();const n=new URL("https://api.sender.net/v2/subscribers");let i={Authorization:"Bearer "+sender_forms_api.api,"Content-Type":"application/json",Accept:"application/json"};let r={email:this.elements.$fieldGroups.find(s.input+'[name="email"]').val()};const o=this.elements.$fieldGroups.find(s.input+'[name="name"]'),l=this.elements.$fieldGroups.find(s.input+'[name="last-name"]');void 0!==t.simple_form&&"yes"===t.simple_form||(r={...r,firstname:o.val(),lastname:l.val(),trigger_automation:!1}),fetch(n,{method:"POST",headers:i,body:JSON.stringify(r)}).then((e=>{e.json(),200===e.status||201===e.status?alert("You have successfully subscribed to my newsletter."):400===e.status?alert("You sent a bad request."):404===e.status?alert("We could not authenticate you. Check your API key."):422===e.status?alert("Some parameters passed are not valid."):429===e.status?alert("You are sending us too many requests."):alert("The problem is on the Sender side, they will fix it soon.")})).catch((e=>{console.error("Error:",e)}));const a=this.elements.$button;a.addClass("loading"),setTimeout((function(){a.removeClass("loading")}),2e3)}checkTermsUse(e){const t=jQuery(e.currentTarget),s=this.elements.$button;t.prop("checked")?s.removeAttr("disabled"):s.attr("disabled","disabled")}}t.default=Sender}}]);