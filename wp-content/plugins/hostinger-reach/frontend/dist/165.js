"use strict";(self.webpackChunkhostinger_reach=self.webpackChunkhostinger_reach||[]).push([[165],{132:function(a,e,t){t.d(e,{A:function(){return c}});var i=t(425);const l=(0,i.KR)(0),n=(0,i.KR)(null),o={class:"base-modal"},s={class:"base-modal__header"},d={key:0,class:"base-modal__title"};var r=(0,i.pM)({__name:"BaseModal",props:{title:{},subtitle:{},titleAlignment:{default:"left"},disableScroll:{type:Boolean,default:!0}},setup(a){const e=a,{lockScroll:t,unlockScroll:r}={lockScroll:()=>{if(l.value++,1===l.value){n.value={overflow:document.body.style.overflow,paddingRight:document.body.style.paddingRight};const a=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow="hidden",a>0&&(document.body.style.paddingRight=`${a}px`)}},unlockScroll:()=>{l.value=Math.max(0,l.value-1),0===l.value&&n.value&&(document.body.style.overflow=n.value.overflow,document.body.style.paddingRight=n.value.paddingRight,n.value=null)},isLocked:()=>l.value>0};return(0,i.sV)(()=>{e.disableScroll&&t()}),(0,i.hi)(()=>{e.disableScroll&&r()}),(e,t)=>((0,i.uX)(),(0,i.CE)("div",o,[(0,i.Lk)("div",s,[(0,i.RG)(e.$slots,"back-button"),(0,i.Lk)("span",{class:(0,i.C4)(["base-modal__title-container",{"base-modal__title-container--centered":"centered"===a.titleAlignment}])},[(0,i.RG)(e.$slots,"title-icon"),a.title?((0,i.uX)(),(0,i.CE)("h2",d,(0,i.v_)(a.title),1)):(0,i.Q3)("v-if",!0)],2)]),a.subtitle?((0,i.uX)(),(0,i.CE)("p",{key:0,class:(0,i.C4)(["base-modal__subtitle",{"base-modal__subtitle--centered":"centered"===a.titleAlignment}])},(0,i.v_)(a.subtitle),3)):(0,i.Q3)("v-if",!0),(0,i.RG)(e.$slots,"default")]))}});var c=(0,t(262).A)(r,[["__scopeId","data-v-330ecf55"]])},165:function(a,e,t){t.r(e),t.d(e,{default:function(){return U}});var i=t(425),l=t(259),n=t(132);const o={class:"plugin-integration-skeleton"},s={class:"plugin-integration-skeleton__info"},d={class:"plugin-integration-skeleton__icon"},r={class:"plugin-integration-skeleton__details"},c={class:"plugin-integration-skeleton__actions"};var u=(0,i.pM)({__name:"PluginIntegrationSkeleton",setup(a){return(a,e)=>((0,i.uX)(),(0,i.CE)("div",o,[(0,i.Lk)("div",s,[(0,i.Lk)("div",d,[(0,i.bF)((0,i.R1)(l.Lc),{width:"40px",height:"40px","border-radius":"sm"})]),(0,i.Lk)("div",r,[(0,i.bF)((0,i.R1)(l.Lc),{width:"120px",height:"16px","border-radius":"sm"})])]),(0,i.Lk)("div",c,[(0,i.bF)((0,i.R1)(l.Lc),{width:"60px",height:"24px","border-radius":"lg"}),(0,i.bF)((0,i.R1)(l.Lc),{width:"80px",height:"32px","border-radius":"sm"})])]))}}),_=t(262);var g=(0,_.A)(u,[["__scopeId","data-v-15d2a7d7"]]);const v={class:"plugins-section-skeleton"},p={class:"plugins-section-skeleton__toggle"},m={class:"plugins-section-skeleton__list"},h={class:"plugins-section-skeleton__item-info"},k={class:"plugins-section-skeleton__item-icon"},f={class:"plugins-section-skeleton__item-details"},b={class:"plugins-section-skeleton__item-actions"};var R=(0,i.pM)({__name:"PluginsSectionSkeleton",setup(a){return(a,e)=>((0,i.uX)(),(0,i.CE)("div",v,[(0,i.Lk)("div",p,[(0,i.bF)((0,i.R1)(l.Lc),{width:"160px",height:"32px","border-radius":"sm"})]),(0,i.Lk)("div",m,[((0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)(3,a=>(0,i.Lk)("div",{key:`skeleton-${a}`,class:"plugins-section-skeleton__item"},[(0,i.Lk)("div",h,[(0,i.Lk)("div",k,[(0,i.bF)((0,i.R1)(l.Lc),{width:"40px",height:"40px","border-radius":"sm"})]),(0,i.Lk)("div",f,[(0,i.bF)((0,i.R1)(l.Lc),{width:"120px",height:"16px","border-radius":"sm"}),(0,i.bF)((0,i.R1)(l.Lc),{width:"80px",height:"14px","border-radius":"sm"})])]),(0,i.Lk)("div",b,[(0,i.bF)((0,i.R1)(l.Lc),{width:"60px",height:"24px","border-radius":"lg"}),(0,i.bF)((0,i.R1)(l.Lc),{width:"80px",height:"32px","border-radius":"sm"})])])),64))])]))}});var L=(0,_.A)(R,[["__scopeId","data-v-4a7c7531"]]),y=t(933),P=t(710),E=t(579),C=t(818),w=t(602),F=t(408);const x={class:"add-form-modal"},I={class:"add-form-modal__main-card"},A={class:"add-form-modal__main-content"},W={class:"add-form-modal__main-icon"},S={key:0,class:"add-form-modal__installed-section"},T={class:"add-form-modal__plugins-list"},X={key:1,class:"add-form-modal__plugin-content"},M={class:"add-form-modal__plugin-info"},K={class:"add-form-modal__plugin-icon"},B=["src","alt"],D={class:"add-form-modal__plugin-details"},O={class:"add-form-modal__plugin-actions"},$={key:1,class:"add-form-modal__plugins-section"},N={key:0,class:"add-form-modal__plugins-list"},H={key:1,class:"add-form-modal__plugin-content"},z={class:"add-form-modal__plugin-info"},Q={class:"add-form-modal__plugin-icon"},Y=["src","alt"],G={class:"add-form-modal__plugin-details"},Z={class:"add-form-modal__plugin-actions"};var q=(0,i.pM)({__name:"AddFormModal",setup(a){const{openModal:e}=(0,y.h)(),t=(0,E.Q)(),o=(0,C.Z)(),s=(0,i.KR)(!1),d=(0,i.EW)(()=>t.availableIntegrations.filter(a=>a.isActive)),r=(0,i.EW)(()=>t.availableIntegrations.filter(a=>!a.isActive)),c=()=>{e(w.Bk.SELECT_PAGE_MODAL,{title:(0,F.T)("hostinger_reach_forms_modal_title"),data:{backButtonRedirectAction:()=>{e(w.Bk.ADD_FORM_MODAL,{},{hasCloseButton:!0})}},pages:o.pages},{hasCloseButton:!0})},u=()=>{s.value=!s.value};return o.loadData(),(a,_)=>{const v=(0,i.g2)("HSnackbar"),p=(0,i.g2)("HIcon"),m=(0,i.g2)("HText"),h=(0,i.g2)("HButton");return(0,i.uX)(),(0,i.Wv)(n.A,{"title-alignment":"left",title:(0,i.R1)(F.T)("hostinger_reach_add_form_modal_title")},{default:(0,i.k6)(()=>[(0,i.Lk)("div",x,[(0,i.bF)(v,{variant:"info"},{default:(0,i.k6)(()=>[(0,i.eW)((0,i.v_)((0,i.R1)(F.T)("hostinger_reach_forms_consent_notice")),1)]),_:1}),(0,i.Lk)("div",I,[(0,i.Lk)("div",A,[(0,i.Lk)("div",W,[(0,i.bF)(p,{name:"ic-add-24",color:"primary--500"})]),(0,i.bF)(m,{variant:"body-1-bold",as:"span"},{default:(0,i.k6)(()=>[(0,i.eW)((0,i.v_)((0,i.R1)(F.T)("hostinger_reach_forms_new_contact_form")),1)]),_:1})]),(0,i.bF)(h,{"is-loading":(0,i.R1)(o).isPagesLoading,variant:"contain",color:"primary",size:"small",onClick:c},{default:(0,i.k6)(()=>[(0,i.eW)((0,i.v_)((0,i.R1)(F.T)("hostinger_reach_forms_create_form_button")),1)]),_:1},8,["is-loading"])]),(0,i.R1)(t).isLoading?((0,i.uX)(),(0,i.Wv)(L,{key:0})):((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[d.value.length?((0,i.uX)(),(0,i.CE)("div",S,[(0,i.bF)(m,{variant:"body-3",as:"h3",color:"neutral--300"},{default:(0,i.k6)(()=>[(0,i.eW)((0,i.v_)((0,i.R1)(F.T)("hostinger_reach_forms_installed_plugins")),1)]),_:1}),(0,i.Lk)("div",T,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(d.value,a=>((0,i.uX)(),(0,i.CE)("div",{key:a.id,class:"add-form-modal__plugin-card"},[(0,i.R1)(t).loadingIntegrations[a.id]?((0,i.uX)(),(0,i.Wv)(g,{key:0})):((0,i.uX)(),(0,i.CE)("div",X,[(0,i.Lk)("div",M,[(0,i.Lk)("div",K,[(0,i.Lk)("img",{src:(0,i.R1)(P.Yv)(a).icon,alt:a.title,class:"add-form-modal__plugin-image",loading:"lazy"},null,8,B)]),(0,i.Lk)("div",D,[(0,i.bF)(m,{variant:"body-2-bold",as:"span"},{default:(0,i.k6)(()=>[(0,i.eW)((0,i.v_)(a.title),1)]),_:2},1024),(0,i.bF)((0,i.R1)(l.L8),{color:"success",variant:"outline"},{default:(0,i.k6)(()=>[(0,i.eW)((0,i.v_)((0,i.R1)(F.T)("hostinger_reach_forms_active")),1)]),_:1})])]),(0,i.Lk)("div",O,[(0,i.bF)(h,{variant:"outline",color:"danger",size:"small","is-disabled":(0,i.R1)(t).isIntegrationLoading(a.id),onClick:t=>{return i=a.id,void e(w.Bk.CONFIRM_DISCONNECT_MODAL,{data:{integration:i,backButtonRedirectAction:()=>{e(w.Bk.ADD_FORM_MODAL,{},{hasCloseButton:!0})}}});var i}},{default:(0,i.k6)(()=>[(0,i.eW)((0,i.v_)((0,i.R1)(F.T)("hostinger_reach_forms_disconnect")),1)]),_:1},8,["is-disabled","onClick"])])]))]))),128))])])):(0,i.Q3)("v-if",!0),r.value.length?((0,i.uX)(),(0,i.CE)("div",$,[(0,i.bF)(h,{variant:"text",color:"primary",size:"small","icon-append":s.value?"ic-chevron-up-16":"ic-chevron-down-16","icon-color":"primary--500",class:"add-form-modal__plugins-toggle","aria-expanded":s.value,onClick:u},{default:(0,i.k6)(()=>[(0,i.eW)((0,i.v_)((0,i.R1)(F.T)("hostinger_reach_forms_view_supported_plugins")),1)]),_:1},8,["icon-append","aria-expanded"]),s.value?((0,i.uX)(),(0,i.CE)("div",N,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.value,a=>((0,i.uX)(),(0,i.CE)("div",{key:a.id,class:"add-form-modal__plugin-card"},[(0,i.R1)(t).isIntegrationLoading(a.id)?((0,i.uX)(),(0,i.Wv)(g,{key:0})):((0,i.uX)(),(0,i.CE)("div",H,[(0,i.Lk)("div",z,[(0,i.Lk)("div",Q,[(0,i.Lk)("img",{src:(0,i.R1)(P.Yv)(a).icon,alt:a.title,class:"add-form-modal__plugin-image",loading:"lazy"},null,8,Y)]),(0,i.Lk)("div",G,[(0,i.bF)(m,{variant:"body-2-bold",as:"span"},{default:(0,i.k6)(()=>[(0,i.eW)((0,i.v_)(a.title),1)]),_:2},1024)])]),(0,i.Lk)("div",Z,[(0,i.bF)(h,{variant:"outline",color:"neutral",size:"small","is-disabled":(0,i.R1)(t).isIntegrationLoading(a.id),onClick:e=>(async a=>{await t.toggleIntegrationStatus(a,!0)})(a.id)},{default:(0,i.k6)(()=>[(0,i.eW)((0,i.v_)(a.isPluginActive?(0,i.R1)(F.T)("hostinger_reach_forms_connect"):(0,i.R1)(F.T)("hostinger_reach_forms_install_and_connect")),1)]),_:2},1032,["is-disabled","onClick"])])]))]))),128))])):(0,i.Q3)("v-if",!0)])):(0,i.Q3)("v-if",!0)],64))])]),_:1},8,["title"])}}});var U=(0,_.A)(q,[["__scopeId","data-v-0a8c7886"]])},818:function(a,e,t){t.d(e,{Z:function(){return _}});var i=t(774),l=t(425);var n=t(223),o=t(326),s=t(602),d=t(264),r=t(371);const c=`${hostinger_reach_reach_data.rest_base_url}wp/v2`,u=(a,e)=>{const{nonce:t,totalFormPages:i}=(0,o.N)(),l=a?.page||1,u=a?.perPage||5,_=i||0,g=Math.ceil(_/u),v=new URLSearchParams;v.append("hostinger_reach_page_query","1"),v.append("page",l.toString()),v.append("per_page",u.toString());const p={headers:{[s.Y9.CORRELATION_ID]:e?.[s.Y9.CORRELATION_ID]||(0,d.d)(),[s.Y9.WP_NONCE]:t}};return r.A.get(`${c}/pages?${v.toString()}`,p).then(([a,e])=>{if(e)return[null,e];const t=a?.map(a=>{let e=`/wp-admin/post.php?post=${a.id}`;return a.HostingerReachPluginHasSubscriptionBlock||(e=`${e}&hostinger_reach_add_block=1`),e=a.HostingerReachPluginIsElementor?`${e}&action=elementor`:`${e}&action=edit`,{id:a.id.toString(),name:(0,n.D4)(a.title.rendered),link:e,isAdded:a.HostingerReachPluginHasSubscriptionBlock??!1}})||[];return[{data:t,pagination:{currentPage:l,totalPages:g,totalItems:_,perPage:u}},null]})},_=(0,i.nY)("pagesStore",()=>{const a=((a,e={})=>{const{itemsPerPage:t=5,initialPage:i=1,autoLoad:n=!0}=e,o=(0,l.KR)(i),s=(0,l.KR)(0),d=(0,l.KR)(0),r=(0,l.KR)([]),c=(0,l.KR)(!1),u=(0,l.KR)(!1),_=(0,l.KR)(null),g=(0,l.EW)(()=>o.value>1),v=(0,l.EW)(()=>o.value<s.value),p=(0,l.EW)(()=>!c.value&&0===r.value.length),m=(0,l.EW)(()=>(o.value-1)*t+1),h=(0,l.EW)(()=>Math.min(o.value*t,d.value)),k=(0,l.EW)(()=>({from:m.value,to:h.value,total:d.value})),f=async(e=o.value)=>{c.value=!0,u.value=!1,_.value=null;try{const[i,l]=await a(e,t);return l?(u.value=!0,_.value=l,r.value=[],!1):!!i&&(r.value=i.data,o.value=i.pagination.currentPage,s.value=i.pagination.totalPages,d.value=i.pagination.totalItems,!0)}catch(a){return u.value=!0,_.value=a,r.value=[],!1}finally{c.value=!1}},b=async a=>{a>=1&&a<=s.value&&a!==o.value&&!c.value&&await f(a)},R=async()=>{g.value&&await b(o.value-1)},L=async()=>{v.value&&await b(o.value+1)};return n&&f(i),{currentPage:o,totalPages:s,totalItems:d,itemsPerPage:t,items:r,isLoading:c,hasError:u,error:_,hasPrevious:g,hasNext:v,isEmpty:p,startIndex:m,endIndex:h,pageRange:k,loadData:f,goToPage:b,setPage:a=>b(a),nextPage:()=>L(),prevPage:()=>R(),goToFirstPage:async()=>{await b(1)},goToLastPage:async()=>{await b(s.value)},goToPreviousPage:R,goToNextPage:L,refresh:async()=>{await f(o.value)}}})(async(a,e)=>await u({page:a,perPage:e},void 0),{itemsPerPage:10,initialPage:1,autoLoad:!1});return{pages:a.items,isPagesLoading:a.isLoading,resetToFirstPage:async()=>{await a.goToPage(1)},...a}},{persist:{key:s.PK.PAGES_STORE}})}}]);